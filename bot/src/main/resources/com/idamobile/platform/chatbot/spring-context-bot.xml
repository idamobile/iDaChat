<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

       <context:annotation-config/>

       <bean id="botToken" class="java.lang.String">
              <constructor-arg value="149202901:AAEAp6KQT2G4Fb2yus-MpBOTdiNNr8bI1Ks"/>
       </bean>

       <bean class="com.idamobile.platform.telegram.bot.api.Telegram">
              <constructor-arg name="token" value="#{botToken}"/>
       </bean>

       <bean id="dispatcherExecutor" class="java.util.concurrent.Executors" factory-method="newFixedThreadPool">
              <constructor-arg value="2"/>
       </bean>

       <bean class="com.idamobile.platform.telegram.bot.framework.ChainManager">
              <property name="handlers">
                     <list>
                            <bean class="com.idamobile.platform.chatbot.StartMessageHandler"/>
                            <bean class="com.idamobile.platform.chatbot.KeyboardMessageHandler"/>
                     </list>
              </property>

              <property name="postProcessors">
                     <list>
                            <bean class="com.idamobile.platform.chatbot.DefaultKeyboardPostProcessor"/>
                     </list>
              </property>
       </bean>

       <bean class="com.idamobile.platform.telegram.bot.framework.UpdateHandler"/>

       <bean id="botDispatcher" class="com.idamobile.platform.telegram.bot.framework.Dispatcher" init-method="start" destroy-method="stop">
              <constructor-arg ref="dispatcherExecutor"/>
       </bean>

       <bean class="com.idamobile.platform.light.core.ws.client.WsEndpointClientImpl">
              <constructor-arg name="baseUrl" value="http://dev.idamob.ru/light/services/WsEndpointServiceFacade?wsdl"/>
              <constructor-arg name="serviceEndpoint" value="WsEndpointServiceFacadeHttpSoap12Endpoint"/>
              <constructor-arg name="serviceName" value="WsEndpointServiceFacade"/>
       </bean>


</beans>